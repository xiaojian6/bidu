(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assets-mention"],{"847c":function(t,e,n){"use strict";n.r(e);var s=n("aceb"),i=n.n(s);for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);e["default"]=i.a},aceb:function(t,e,n){"use strict";(function(t){var s=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("f3f3")),a=n("2f62"),o={data:function(){return{password:"",currency:"",coinInfo:{},address:"",name:"",number:"",reciveNumber:"0.0",code:"",disable:!1,load:!1,codeText:this.$t("login").r_send,accountNumber:"",timer:null}},computed:(0,i.default)({},(0,a.mapState)({theme:function(t){return t.theme}})),onLoad:function(t){uni.setNavigationBarTitle({title:this.$t("assets").mention}),this.$utils.setTheme(this.theme),this.currency=t.currency,this.name=t.name},onShow:function(){this.getCoinInfo()},onPullDownRefresh:function(){this.getCoinInfo()},methods:{getCoinInfo:function(){var t=this;this.$utils.initDataToken({url:"wallet/get_info",type:"POST",data:{currency:this.currency}},(function(e){uni.stopPullDownRefresh(),t.coinInfo=e,t.getUserInfo()}))},getUserInfo:function(){var t=this;this.$utils.initDataToken({url:"user/info"},(function(e){t.accountNumber=e.account_number,t.getAddress(e.id)}))},getAddress:function(e){var n=this;this.$utils.getAddressOnline({url:"walletMiddle/GetDrawAddress",data:{user_id:e,coin_name:this.name,contract_address:this.coinInfo.contract_address}},(function(e){uni.stopPullDownRefresh(),t("log",e," at pages\\assets\\mention.vue:102"),0==e.code?n.address=e.data.address:n.$utils.showLayer(e.errorinfo)}))},all:function(){this.number=this.coinInfo.change_balance},numberChange:function(t){this.reciveNumber=t.target.value*(1-this.coinInfo.rate/100)},send:function(){var t=this,e=this,n=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,s="sms_send";n.test(this.accountNumber)&&(s="sms_mail"),this.$utils.initDataToken({url:s,data:{user_string:this.accountNumber,scene:"tibi"},type:"post"},(function(n,s){t.disable=!0;var i=60;e.timer=setInterval((function(){i--,i<10&&(i="0"+i),t.codeText=i+"s",i<=0&&(clearInterval(e.timer),t.disable=!1,t.load=!1,t.codeText=t.$t("login").r_send)}),1e3)}))},mention:function(){var e=this,n=this;return this.address?this.number?this.password?this.password.length<6?this.$utils.showLayer(this.$t("login.e_pdealerr")):this.code?void this.$utils.initDataToken({url:"wallet/out",type:"POST",data:{currency:this.currency,number:this.number,address:this.address,password:this.password,verify:this.code}},(function(s,i){t("log",s," at pages\\assets\\mention.vue:163"),e.$utils.showLayer(s),clearInterval(n.timer),e.disable=!1,e.load=!1,e.codeText=e.$t("login").r_send,setTimeout((function(){e.getCoinInfo()}),1e3)})):this.$utils.showLayer(this.$t("login").p_vcode):this.$utils.showLayer(this.$t("login.e_pdeal")):this.$utils.showLayer(this.$t("assets.p_minnum")):this.$utils.showLayer(this.$t("assets.p_addr"))}}};e.default=o}).call(this,n("0de9")["log"])},d35b:function(t,e,n){"use strict";var s,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:["vh100",{dark:"dark"==t.theme}]},[n("v-uni-view",{staticClass:"ptb20 bgPart plr20"},[n("v-uni-view",{staticClass:"ft18"},[t._v(t._s(t.coinInfo.name||"--")+t._s(t.$t("assets.mention")))]),n("v-uni-view",{staticClass:"mt10"},[t._v(t._s(t.$t("trade.use"))+" "+t._s(t.coinInfo.change_balance)+" "+t._s(t.coinInfo.name||"--"))])],1),n("v-uni-view",{staticClass:"plr20"},[n("v-uni-view",{staticClass:"mb20 mt20"},[n("v-uni-view",{},[t._v(t._s(t.$t("assets.mentionaddr")))]),n("v-uni-input",{staticClass:"bdb1f h40 w100 input-uni",attrs:{type:"text",disabled:"",placeholder:t.$t("assets.p_addr")},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),n("v-uni-view",{staticClass:"mb20"},[n("v-uni-view",{},[t._v(t._s(t.$t("trade.num")))]),n("v-uni-view",{staticClass:"flex alcenter between bdb1f"},[n("v-uni-input",{staticClass:" h40 flex1 input-uni",attrs:{type:"number",placeholder:t.$t("assets.minnum")+(t.coinInfo.min_number||"0.00")},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.numberChange.apply(void 0,arguments)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),n("v-uni-view",{staticClass:"flex alcenter"},[n("v-uni-text",{staticClass:"blue ft14 pr10 bdr_white50"},[t._v(t._s(t.coinInfo.name||"--"))]),n("v-uni-view",{staticClass:"pl10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.all.apply(void 0,arguments)}}},[t._v(t._s(t.$t("trade.all")))])],1)],1)],1),n("v-uni-view",{staticClass:"mb20"},[n("v-uni-view",{},[t._v(t._s(t.$t("login.s_dealpwd")))]),n("v-uni-input",{staticClass:"bdb1f h40 w100 input-uni",attrs:{type:"text",password:"",placeholder:t.$t("login.e_pdeal")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-uni-view",{staticClass:"mb10 bdb1f ptb10 flex alcenter between"},[n("v-uni-view",{},[t._v(t._s(t.$t("assets.recivenum")))]),n("v-uni-view",{},[t._v(t._s(t.reciveNumber)+" "+t._s(t.coinInfo.name||"--"))])],1),n("v-uni-view",{staticClass:"mb20 bdb1f ptb10 flex alcenter between"},[n("v-uni-input",{staticClass:"h40 lh40 flex1 input-uni",attrs:{type:"text",placeholder:t.$t("login").p_vcode},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-view",[n("v-uni-button",{attrs:{size:"mini",type:"primary",disabled:t.disable,loading:t.load},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.send.apply(void 0,arguments)}}},[t._v(t._s(t.codeText))])],1)],1),n("v-uni-view",{staticClass:"mb20"},[t._v(t._s(t.$t("trade.fee"))+"ï¼š"+t._s(t.coinInfo.rate||"--")+"% "+t._s(t.coinInfo.name||"--"))]),n("v-uni-view",{staticClass:"mt40 bgBlue radius4 ptb10 white ft14 tc mb10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.mention.apply(void 0,arguments)}}},[t._v(t._s(t.$t("assets.mention")))])],1)],1)},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}))},e588:function(t,e,n){"use strict";n.r(e);var s=n("d35b"),i=n("847c");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);var o,r=n("f0c5"),u=Object(r["a"])(i["default"],s["b"],s["c"],!1,null,"1ab34808",null,!1,s["a"],o);e["default"]=u.exports}}]);