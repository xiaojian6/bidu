(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assets-bindMentionAddress"],{"05ac":function(e,t,i){"use strict";i.r(t);var s=i("5627"),n=i("64c6");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);var d,r=i("f0c5"),c=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,"8a5079b6",null,!1,s["a"],d);t["default"]=c.exports},4934:function(e,t,i){"use strict";(function(e){var s=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i("f3f3")),a=i("2f62"),d={data:function(){return{index:0,coinList:[],uerid:"",hasSend:!1,timeInterval:"",address:"",code:"",second:60}},computed:(0,n.default)({},(0,a.mapState)({theme:function(e){return e.theme}})),onLoad:function(){this.getCoinList(),uni.setNavigationBarTitle({title:this.$t("bind").bindAddr}),this.$utils.setTheme(this.theme)},methods:{pickChange:function(t){e("log",t," at pages\\assets\\bindMentionAddress.vue:57"),this.index=t.target.value,this.address="",this.getAddress()},getCoinList:function(){var e=this;this.$utils.initDataToken({url:"wallet/list",type:"POST"},(function(t){e.coinList=t.change_wallet.balance,e.getUserInfo()}))},getUserInfo:function(){var e=this;this.$utils.initDataToken({url:"user/info"},(function(t){e.uerid=t.id,e.getAddress()}))},getAddress:function(){var t=this;this.$utils.getAddressOnline({url:"walletMiddle/GetDrawAddress",data:{user_id:this.uerid,coin_name:this.coinList[this.index].currency_name,contract_address:this.coinList[this.index].contract_address}},(function(i){e("log",i," at pages\\assets\\bindMentionAddress.vue:80"),0==i.code&&(t.address=i.data.address)}))},getCode:function(){var t=this;this.timeInterval||this.$utils.getAddressOnline({url:"walletMiddle/SendVerificationcode",data:{user_id:this.uerid}},(function(i){e("log",i," at pages\\assets\\bindMentionAddress.vue:90"),0==i.code?(t.$utils.showLayer(t.$t("bind.sendSuccess")),t.hasSend=!0,t.timeInterval=setInterval((function(){t.second>=1?t.second--:(t.hasSend=!1,clearInterval(t.timeInterval))}),1e3)):t.$utils.showLayer(i.errorinfo)}))},bindAddress:function(){var t=this;if(!this.address)return this.$utils.showLayer(this.$t("bind.p_addr"));if(!this.code)return this.$utils.showLayer(this.$t("login.p_vcode"));var i={user_id:this.uerid,address:this.address,coin_name:this.coinList[this.index].currency_name,contract_address:this.coinList[this.index].contract_address,verificationcode:this.code,t:Date.parse(new Date)/1e3},s=JSON.stringify(i);e("log",s," at pages\\assets\\bindMentionAddress.vue:132"),e("log",this.$MD5(s)," at pages\\assets\\bindMentionAddress.vue:133");var n=this.$MD5(s+"abcd4321");e("log",n," at pages\\assets\\bindMentionAddress.vue:136"),this.$utils.getAddressOnline({url:"walletMiddle/BindDrawAddress",data:{data:s,sign:n},type:"POST"},(function(i){e("log",i," at pages\\assets\\bindMentionAddress.vue:138"),0==i.code?t.$utils.showLayer(t.$t("bind.bindOk")):t.$utils.showLayer(i.errorinfo)}))}}};t.default=d}).call(this,i("0de9")["log"])},5627:function(e,t,i){"use strict";var s,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{class:["vh100",{dark:"dark"==e.theme}],attrs:{view:!0}},[i("v-uni-view",{staticClass:"pt20 plr20"},[i("v-uni-view",{staticClass:"flex alcenter mb20"},[i("v-uni-picker",{staticClass:"bd_input ptb10 plr10 tc flex1 radius4",attrs:{value:e.index,range:e.coinList,"range-key":"currency_name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flex between"},[i("v-uni-text",[e._v(e._s(e.$t("bind.cur_select")))]),e.coinList[e.index]?i("v-uni-text",[e._v(e._s(e.coinList[e.index].currency_name))]):e._e()],1)],1)],1),i("v-uni-view",{staticClass:"flex alcenter mb20"},[i("v-uni-text",[e._v(e._s(e.$t("bind.addr"))+"：")]),i("v-uni-input",{staticClass:"flex1 plr15 h40 bdb1f",attrs:{type:"text",value:"",placeholder:e.$t("bind.p_addr")},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),i("v-uni-view",{staticClass:"flex alcenter"},[i("v-uni-text",[e._v(e._s(e.$t("login.code"))+" ：")]),i("v-uni-view",{staticClass:"bdb1f flex alcenter flex1"},[i("v-uni-input",{staticClass:"flex1 plr15 h40 ",attrs:{type:"text",value:"",placeholder:e.$t("login.p_vcode")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("v-uni-view",{staticClass:"ml10 plr10 white bgBlue ptb5 radius4",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e.hasSend?i("v-uni-text",[e._v(e._s(e.second)+"s")]):i("v-uni-text",[e._v(e._s(e.$t("login.r_send")))])],1)],1)],1),i("v-uni-view",{staticClass:"mt40 bgBlue radius4 ptb10 white ft14 tc mb10",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindAddress.apply(void 0,arguments)}}},[e._v(e._s(e.$t("bind.bind")))])],1)],1)},a=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return s}))},"64c6":function(e,t,i){"use strict";i.r(t);var s=i("4934"),n=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,(function(){return s[e]}))}(a);t["default"]=n.a}}]);