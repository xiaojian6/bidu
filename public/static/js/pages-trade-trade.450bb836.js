(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-trade-trade"],{"008b":function(t,e,i){"use strict";i.r(e);var n=i("d62a"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"0439":function(t,e,i){var n=i("4144");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6d51643c",n,!0,{sourceMap:!1,shadowMode:!1})},"0fdd":function(t,e,i){"use strict";i.r(e);var n=i("86ed"),a=i("4f59");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("8e5f");var r=i("2877"),c=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,"f90966f4",null);e["default"]=c.exports},"0fe3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer-visible":t.visible,"uni-drawer-right":t.rightMode},attrs:{catchtouchmove:t.catchtouchmove}},[t.showMask?i("v-uni-view",{staticClass:"uni-drawer-mask",on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}}):t._e(),i("v-uni-view",{staticClass:"uni-drawer-content"},[t._t("default")],2)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},4144:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.uni-mask[data-v-f90966f4]{position:fixed;z-index:101;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-f90966f4]{position:fixed;z-index:101;background-color:#e1e1ea}.uni-popup-middle[data-v-f90966f4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uni-popup-middle.uni-popup-insert[data-v-f90966f4]{min-width:%?380?%;min-height:%?380?%;max-width:100%;max-height:80%;-webkit-transform:translate(-50%,-65%);-ms-transform:translate(-50%,-65%);transform:translate(-50%,-65%);background:none;-webkit-box-shadow:none;box-shadow:none}.uni-popup-middle.uni-popup-fixed[data-v-f90966f4]{border-radius:%?10?%;padding:%?30?%}.uni-close-bottom[data-v-f90966f4],.uni-close-right[data-v-f90966f4]{position:absolute;bottom:%?-180?%;text-align:center;border-radius:50%;color:#f5f5f5;font-size:%?60?%;font-weight:700;opacity:.8;z-index:-1}.uni-close-right[data-v-f90966f4]{right:%?-60?%;top:%?-80?%}.uni-close-bottom[data-v-f90966f4]:after{content:"";position:absolute;width:0;border:1px #f5f5f5 solid;top:%?-200?%;bottom:%?56?%;left:50%;-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%);opacity:.8}.uni-popup-top[data-v-f90966f4]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-f90966f4]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}',""])},"4f59":function(t,e,i){"use strict";i.r(e);var n=i("76fd"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"54b1":function(t,e,i){"use strict";i.r(e);var n=i("78d3"),a=i("008b");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i("2877"),c=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},"556e":function(t,e,i){"use strict";i.r(e);var n=i("0fe3"),a=i("7df2");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("abcc");var r=i("2877"),c=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,"18129884",null);e["default"]=c.exports},6976:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-drawer[data-v-18129884]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;visibility:hidden;z-index:10000000;height:100%}.uni-drawer>.uni-drawer-mask[data-v-18129884]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4)}.uni-drawer>.uni-drawer-content[data-v-18129884]{display:block;position:absolute;top:0;left:0;width:70%;height:100%;background:#fff;-webkit-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-transform:translatex(-100%);-ms-transform:translatex(-100%);transform:translatex(-100%)}.uni-drawer.uni-drawer-right>.uni-drawer-content[data-v-18129884]{left:auto;right:0;-webkit-transform:translatex(100%);-ms-transform:translatex(100%);transform:translatex(100%)}.uni-drawer.uni-drawer-visible[data-v-18129884]{visibility:visible}.uni-drawer.uni-drawer-visible>.uni-drawer-mask[data-v-18129884]{display:block}.uni-drawer.uni-drawer-visible>.uni-drawer-content[data-v-18129884]{-webkit-transform:translatex(0);-ms-transform:translatex(0);transform:translatex(0)}",""])},"76fd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-popup",props:{show:{type:Boolean,default:!1},position:{type:String,default:"middle"},mode:{type:String,default:"insert"},msg:{type:String,default:""},h5Top:{type:Boolean,default:!1},buttonMode:{type:String,default:"bottom"}},data:function(){var t=0;return t=this.h5Top?0:44,{offsetTop:t}},watch:{h5Top:function(t){console.log(t),this.offsetTop=t?44:0}},methods:{hide:function(){"insert"===this.mode&&"middle"===this.position||this.$emit("hidePopup")},closeMask:function(){"insert"===this.mode&&this.$emit("hidePopup")},moveHandle:function(){}}};e.default=n},"78bf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{visible:{type:Boolean,default:!1},mode:String,mask:{type:[Boolean,String],default:!0}},data:function(){return{rightMode:!1,catchtouchmove:!1}},computed:{showMask:function(){return"true"===String(this.mask)}},created:function(){this.rightMode="right"===this.mode},methods:{close:function(){this.$emit("close")}}};e.default=n},"78d3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},on:{click:function(e){e=t.$handleEvent(e),t.onClick()}}})},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"7df2":function(t,e,i){"use strict";i.r(e);var n=i("78bf"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"86ed":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){e=t.$handleEvent(e),t.hide(e)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup",class:["uni-popup-"+t.position,"uni-popup-"+t.mode]},[t._v(t._s(t.msg)),t._t("default"),"middle"===t.position&&"insert"===t.mode?i("v-uni-view",{staticClass:" uni-icon uni-icon-close",class:{"uni-close-bottom":"bottom"===t.buttonMode,"uni-close-right":"right"===t.buttonMode},on:{click:function(e){e=t.$handleEvent(e),t.closeMask(e)}}}):t._e()],2)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"8e5f":function(t,e,i){"use strict";var n=i("0439"),a=i.n(n);a.a},9338:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:["vh100",{dark:"dark"==t.theme}]},[i("v-uni-view",{staticClass:"status_bar"},[i("v-uni-view",{staticClass:"top_view"})],1),i("v-uni-view",{staticClass:" bgPart flex alcenter between plr15 zdx100 pt10 pb15"},[i("v-uni-view",{staticClass:"flex alcenter",on:{click:function(e){e=t.$handleEvent(e),t.showLeft=!0}}},[i("v-uni-image",{staticClass:"h20 wt20",attrs:{src:"dark"==t.theme?"/static/image_dark/list.png":"/static/image/list.png"}}),i("v-uni-text",{staticClass:"ft18 ml10 bold"},[t._v(t._s(t.currency_name)+"/"+t._s(t.legal_name))]),t.change?i("v-uni-text",{class:["ml10 radius2 p2 dwbg redColor ft12",{"upbg greenColor":"+"==t.change.substr(0,1)}]},[t._v(t._s(t.change)+"%")]):t._e()],1),i("v-uni-navigator",{attrs:{url:"/pages/market/kline?legal_id="+t.legal_id+"&currency_id="+t.currency_id+"&symbol="+t.currency_name+"/"+t.legal_name}},[i("v-uni-image",{staticClass:"h20 wt20",attrs:{src:"/static/image/datamap.png"}})],1)],1),i("v-uni-view",{staticClass:"flex  pb15 bgPart"},[i("v-uni-view",{staticClass:"flex1 plr15"},[i("v-uni-view",{staticClass:"flex alcenter tc overxy posRelt bggray gray7"},[i("v-uni-view",{class:["flex1 h35 lh35 ft14",{"bggreen white":"buy"==t.type}],on:{click:function(e){e=t.$handleEvent(e),t.changeType("buy")}}},[t._v(t._s(t.$t("trade").buy))]),i("v-uni-view",{staticClass:"bor abstrot mt5 bgPart"}),i("v-uni-view",{class:["flex1 h35 lh35 ft14",{"bgred white":"sell"==t.type}],on:{click:function(e){e=t.$handleEvent(e),t.changeType("sell")}}},[t._v(t._s(t.$t("trade").sell))])],1),i("v-uni-view",{staticClass:"flex alcenter ptb15 ft14"},[i("v-uni-text",{staticClass:"gray7",attrs:{"data-position":"bottom"},on:{click:function(e){e=t.$handleEvent(e),t.togglePopup("bottom-share")}}},[t._v(t._s("limit"==t.priceType?t.$t("trade").limit:t.$t("trade").shi))]),i("v-uni-image",{staticClass:"h10 wt10 ml5",attrs:{src:"/static/image/pull.png"}})],1),i("uni-popup",{attrs:{show:"bottom-share"===t.popType,position:"bottom"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[i("v-uni-view",{staticClass:"bottom-content"},[i("v-uni-view",{staticClass:"bottom-content-box tc gray7"},[i("v-uni-view",{class:["bdb_1e ptb10 ft14 bgPart",{blueColor:"limit"==t.priceType}],on:{click:function(e){e=t.$handleEvent(e),t.changePriceType("limit")}}},[t._v(t._s(t.$t("trade").limit))]),i("v-uni-view",{class:["ptb10 ft14 bgPart",{blueColor:"market"==t.priceType}],on:{click:function(e){e=t.$handleEvent(e),t.changePriceType("market")}}},[t._v(t._s(t.$t("trade").shi))]),i("v-uni-view",{staticClass:"pt5 pb10"},[i("v-uni-view",{staticClass:"ptb10 ft14 bgPart",on:{click:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[t._v(t._s(t.$t("trade").cancel))])],1)],1)],1)],1),i("v-uni-view",{},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"limit"==t.priceType,expression:"priceType=='limit'"}]},[i("v-uni-view",{staticClass:"bd_input flex alcenter radius2"},[i("v-uni-input",{staticClass:"h40 flex1 plr10 bdr_input input-uni",attrs:{type:"number",placeholder:t.$t("trade.price")},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),i("v-uni-view",{staticClass:"wt80 flex alcenter tc"},[i("v-uni-view",{staticClass:"flex1 sub h12 flex alcenter jscenter",on:{click:function(e){e=t.$handleEvent(e),t.sub(e)}}},[i("v-uni-image",{staticClass:"h12 wt12",attrs:{src:"/static/image/sub.png"}})],1),i("v-uni-view",{staticClass:"flex1 h12 flex alcenter jscenter",on:{click:function(e){e=t.$handleEvent(e),t.plus(e)}}},[i("v-uni-image",{staticClass:"h12 wt12",attrs:{src:"/static/image/plus.png"}})],1)],1)],1),i("v-uni-view",{staticClass:"gray4 mt7"},[t._v("≈"+t._s(t.myCNY)+"CNY")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"market"==t.priceType,expression:"priceType=='market'"}]},[i("v-uni-view",{staticClass:"bd_input flex alcenter radius2 bgBlack"},[i("v-uni-input",{staticClass:"h40 flex1 plr10 input-uni",attrs:{type:"text",value:t.$t("trade.best"),disabled:""}})],1)],1),i("v-uni-view",{staticClass:"bd_input flex alcenter between mt15 plr10 radius2"},[i("v-uni-input",{staticClass:"h40 flex1 input-uni",attrs:{type:"number",placeholder:t.$t("trade.num")},on:{input:function(e){e=t.$handleEvent(e),t.inputNum(e)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),i("v-uni-view",{staticClass:"gray7 ft16"},[t._v(t._s(t.currency_name))])],1),i("v-uni-view",{staticClass:"gray7 mt7"},[t._v(t._s(t.$t("trade.use"))+" "+t._s(t.balance)+" "+t._s("buy"==t.type?t.legal_name:t.currency_name))]),i("v-uni-view",{staticClass:"ptb15"},[i("v-uni-view",{staticClass:"flex alcenter around tc tab-box gray7"},t._l(t.percentList,function(e,n){return i("v-uni-view",{key:n,class:["bd_input flex1 radius2",{"bggreen white bd_green":t.percent==e&&"buy"==t.type},{"bgred white bd_red":t.percent==e&&"sell"==t.type},{ml10:n>0}],on:{click:function(i){i=t.$handleEvent(i),t.changePercent(e)}}},[t._v(t._s(e)+"%")])}),1)],1),i("v-uni-view",{staticClass:"gray7 flex alcenter mt10"},[i("v-uni-text",[t._v(t._s(t.$t("trade.amout")))]),i("v-uni-text",{staticClass:"pl5"},[t._v(t._s(t.tradeNum||"--")+t._s(t.legal_name))])],1),i("v-uni-view",{class:["btn-default mt10 bgred",{bggreen:"buy"==t.type}],on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}},[t._v(t._s("buy"==t.type?t.$t("trade.buy"):t.$t("trade.sell"))+t._s(t.currency_name))])],1)],1),i("v-uni-view",{staticClass:"trade-left flex column"},[i("v-uni-view",{staticClass:"flex between gray4 pr15 ft12"},[i("v-uni-text",[t._v(t._s(t.$t("trade.price")))]),i("v-uni-text",[t._v(t._s(t.$t("trade.num")))])],1),i("v-uni-view",{staticClass:"ft12 flex flex1 column"},[1!=t.ptype?i("v-uni-view",{staticClass:"flex1 flex column jsend asks"},t._l(t.sellData,function(e,n){return(0==t.ptype?t.sellData.length>5?n>t.sellData.length-6&&n<10:n<5:n<10)?i("v-uni-view",{key:n,staticClass:"flex between hg20 alcenter mtn gray7 pr15",style:"background-size:"+parseInt(e[1]/t.sellMax*100)+"% 100%",on:{click:function(i){i=t.$handleEvent(i),t.changeNum(e[0])}}},[i("v-uni-text",{staticClass:"redColor"},[t._v(t._s(e[0]))]),e[1]>0?i("v-uni-text",[t._v(t._s(t._f("toFixed3")(e[1])))]):i("v-uni-text",[t._v(t._s(e[1]))])],1):t._e()}),1):t._e(),i("v-uni-view",{staticClass:"mtn"},[i("v-uni-view",{class:["redColor ft18",{greenColor:"buy"==t.type}]},[t._v(t._s(t.last_price))]),i("v-uni-text",{staticClass:"gray4"},[t._v("≈"+t._s(t._f("toFixed2")(t.last_price*t.cny))+"CNY")])],1),2!=t.ptype?i("v-uni-view",{staticClass:"flex1 flex column bids"},t._l(t.buyData,function(e,n){return(0==t.ptype?n<5:n<10)?i("v-uni-view",{key:n,staticClass:"flex between hg20 alcenter mtn gray7 pr15",style:"background-size:"+parseInt(e[1]/t.buyMax*100)+"% 100%",on:{click:function(i){i=t.$handleEvent(i),t.changeNum(e[0])}}},[i("v-uni-text",{staticClass:"greenColor"},[t._v(t._s(e[0]))]),e[1]>0?i("v-uni-text",[t._v(t._s(t._f("toFixed3")(e[1])))]):i("v-uni-text",[t._v(t._s(e[1]))])],1):t._e()}),1):t._e()],1),i("v-uni-view",{staticClass:"flex alcenter"},[i("v-uni-view",{class:["wt20 h20 flex alcenter jscenter radius2 bd3a",{bdActive:0==t.ptype}],on:{click:function(e){e=t.$handleEvent(e),t.ptype=0}}},[i("v-uni-image",{staticClass:"wt15 h15",attrs:{src:"/static/image/pan1.svg",mode:""}})],1),i("v-uni-view",{class:["wt20 h20 flex alcenter jscenter radius2 bd3a ml5",{bdActive:1==t.ptype}],on:{click:function(e){e=t.$handleEvent(e),t.ptype=1}}},[i("v-uni-image",{staticClass:"wt15 h15",attrs:{src:"/static/image/pan2.svg",mode:""}})],1),i("v-uni-view",{class:["wt20 h20 flex alcenter jscenter radius2 bd3a ml5",{bdActive:2==t.ptype}],on:{click:function(e){e=t.$handleEvent(e),t.ptype=2}}},[i("v-uni-image",{staticClass:"wt15 h15",attrs:{src:"/static/image/pan3.svg",mode:""}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"left-mode"},[i("uni-drawer",{attrs:{visible:t.showLeft,mode:"left"},on:{close:function(e){e=t.$handleEvent(e),t.showLeft=!1}}},[i("v-uni-view",{staticClass:"pt20"},[i("v-uni-view",{staticClass:"ft18 pl15 ptb10"},[t._v(t._s(t.$t("trade.bibi")))]),i("v-uni-view",{staticClass:"flex plr15 bdb_1e bold gray7"},t._l(t.quotationList,function(e,n){return i("v-uni-view",{key:e.id,class:["mr20 pb5 ft14",{"blueColor bdb_active":t.current==n}],on:{click:function(i){i=t.$handleEvent(i),t.changeLegal(n,e.name)}}},[t._v(t._s(e.name))])}),1)],1),t._l(t.marketList,function(e,n){return t.current==n?i("v-uni-view",{key:n},t._l(e,function(e,n){return i("v-uni-view",{key:n,class:["flex alcenter between ptb15 plr15  bdb_1e",{" bggray":t.legal_id==e.legal_id&&t.currency_id==e.currency_id}],on:{click:function(e){e=t.$handleEvent(e),t.changeCurrency(n)}}},[i("v-uni-view",{staticClass:"flex flexend"},[i("v-uni-text",{staticClass:"ft14"},[t._v(t._s(e.currency_name))]),i("v-uni-text",{staticClass:"gray7"},[t._v("/"+t._s(e.legal_name))])],1),i("v-uni-view",{class:[e.change>=0?"greenColor":"redColor"]},[t._v(t._s(e.now_price))])],1)}),1):t._e()})],2)],1),i("v-uni-view",{staticClass:"mt10 bgPart"},[i("v-uni-view",{staticClass:"flex alcenter between ptb10  plr15"},[i("v-uni-view",{staticClass:"flex flexend"},[i("v-uni-text",{staticClass:"ft18"},[t._v(t._s(t.$t("trade.delegate")))]),i("v-uni-view",{staticClass:"flex alcenter ml10 ft14"},[i("v-uni-text",{staticClass:"gray7",attrs:{"data-position":"bottom"},on:{click:function(e){e=t.$handleEvent(e),t.togglePopup("bottom-entrust")}}},[t._v(t._s("in"==t.enType?t.$t("trade.buy"):t.$t("trade.sell")))]),i("v-uni-image",{staticClass:"h10 wt10 ml5",attrs:{src:"/static/image/pull.png"}})],1)],1),i("v-uni-view",{staticClass:"flex alcenter gray7"},[i("v-uni-image",{staticClass:"h20 wt20 ml5",attrs:{src:"/static/image/all.png"}}),i("v-uni-navigator",{attrs:{url:"entrust"}},[t._v(t._s(t.$t("trade.all")))])],1)],1),i("uni-popup",{attrs:{show:"bottom-entrust"===t.popType,position:"bottom"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[i("v-uni-view",{staticClass:"bottom-content"},[i("v-uni-view",{staticClass:"bottom-content-box tc gray7"},[i("v-uni-view",{class:["bdb_1e ptb10 ft14 bgPart",{blueColor:"in"==t.enType}],on:{click:function(e){e=t.$handleEvent(e),t.changeEntrustType("in")}}},[t._v(t._s(t.$t("trade.buy")))]),i("v-uni-view",{class:["ptb10 ft14 bgPart",{blueColor:"out"==t.enType}],on:{click:function(e){e=t.$handleEvent(e),t.changeEntrustType("out")}}},[t._v(t._s(t.$t("trade.sell")))]),i("v-uni-view",{staticClass:"pt5 pb10"},[i("v-uni-view",{staticClass:"ptb10 ft14 bgPart",on:{click:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[t._v(t._s(t.$t("trade.cancel")))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"en-ul"},[t._l(t.enList,function(e,n){return i("v-uni-view",{key:e.id,staticClass:"ptb10 bdb_1e plr15"},[i("v-uni-view",{staticClass:"flex between alcenter"},[i("v-uni-view",{staticClass:"flex flex flexend"},[i("v-uni-text",{class:["ft14 redColor",{greenColor:"in"==t.enType}]},[t._v(t._s("in"==t.enType?t.$t("trade.buy"):t.$t("trade.sell")))]),i("v-uni-text",{staticClass:"gray4 pl10"},[t._v(t._s(e.create_time.substring(10,16))+" "+t._s(e.create_time.substring(5,7))+"/"+t._s(e.create_time.substring(8,11)))])],1),i("v-uni-view",{staticClass:"blueColor bgBlack radius2 plr20 ptb5",on:{click:function(i){i=t.$handleEvent(i),t.revoke(n,e.id)}}},[t._v(t._s(t.$t("trade.back")))])],1),i("v-uni-view",{staticClass:"mt15 flex"},[i("v-uni-view",{staticClass:"flex1"},[i("v-uni-text",{staticClass:"gray4"},[t._v(t._s(t.$t("trade.price"))+"("+t._s(e.legal_name)+")")]),i("v-uni-view",{staticClass:"mt5"},[t._v(t._s(e.price))])],1),i("v-uni-view",{staticClass:"flex1 tc"},[i("v-uni-text",{staticClass:"gray4"},[t._v(t._s(t.$t("trade.num"))+"("+t._s(e.currency_name)+")")]),i("v-uni-view",{staticClass:"mt5"},[t._v(t._s(e.number))])],1),i("v-uni-view",{staticClass:"flex1 tr"},[i("v-uni-text",{staticClass:"gray4"},[t._v(t._s(t.$t("trade.dui")))]),i("v-uni-view",{staticClass:"mt5"},[t._v(t._s(e.currency_name)+"/"+t._s(e.legal_name))])],1)],1)],1)}),0==t.enList.length?i("v-uni-view",{staticClass:"tc pt30 pb100"},[i("v-uni-image",{staticClass:"h50 wt50",attrs:{src:"/static/image/nodata.png"}}),i("v-uni-view",{staticClass:"gray7"},[t._v(t._s(t.$t("home.norecord")))])],1):t._e(),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isBottom,expression:"isBottom"}],staticClass:"tc gray7 ptb20"},[t._v(t._s(t.$t("home.loading"))+"...")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore&&t.enList.length>10,expression:"!hasMore && enList.length>10"}],staticClass:"tc gray7 ptb20"},[t._v(t._s(t.$t("home.nomore")))])],2)],1),1==t.isFinger?i("v-uni-view",{staticClass:"finger_bg"},[i("v-uni-view",{staticClass:"fingerBut",on:{click:function(e){e=t.$handleEvent(e),t.fingerFuc(e)}}},[i("v-uni-image",{attrs:{src:"../../static/image/finger.png",mode:""}}),i("v-uni-view",{},[t._v("点击唤醒验证")])],1),i("uni-popup",{attrs:{show:"fingerAlert"===t.type,position:"middle",mode:"fixed"}},[i("v-uni-view",{staticClass:"uni-center center-box"},[i("v-uni-view",{staticClass:"msg_tit"},[t._v("请验证指纹")]),i("v-uni-view",{staticStyle:{width:"100%","text-align":"center",padding:"25upx 0 0 0"}},[i("v-uni-image",{staticClass:"msg_img",attrs:{src:"../../static/image/fingerprint.png",mode:""}})],1),i("v-uni-view",{staticClass:"msg_content",staticStyle:{width:"100%","text-align":"center"}},[t._v("使用指纹查看重要信息")]),i("v-uni-view",{staticClass:"msg_but"},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){e=t.$handleEvent(e),t.fingerCancel(e)}}},[t._v("取消")])],1)],1)],1)],1):t._e()],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},9371:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-aa794802]{background:#f7f7fb}.trade-left[data-v-aa794802]{width:%?300?%}.w270[data-v-aa794802]{width:%?270?%}uni-slider[data-v-aa794802]{margin:0 0 0 %?14?%}.tab-box uni-view[data-v-aa794802]{padding:%?4?% 0}.sub[data-v-aa794802]{border-right:1px solid #f5f5f5}.bor[data-v-aa794802]{width:%?32?%;height:%?140?%;left:calc(50% - %?20?%);transform:rotate(25deg);-ms-transform:rotate(25deg);-moz-transform:rotate(25deg);-webkit-transform:rotate(25deg);-o-transform:rotate(25deg)}.en-ul>.bdb_1e[data-v-aa794802]:last-child{border-bottom:none}.p2[data-v-aa794802]{padding:0 %?4?%}.dwbg[data-v-aa794802]{background:rgba(250,82,82,.1)}.upbg[data-v-aa794802]{background:rgba(18,184,134,.1)}.asks>uni-view[data-v-aa794802]{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(250,82,82,.1)),to(rgba(250,82,82,.1)));background-image:-o-linear-gradient(rgba(250,82,82,.1),rgba(250,82,82,.1));background-image:linear-gradient(rgba(250,82,82,.1),rgba(250,82,82,.1))}.bids>uni-view[data-v-aa794802]{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(18,184,134,.1)),to(rgba(18,184,134,.1)));background-image:-o-linear-gradient(rgba(18,184,134,.1),rgba(18,184,134,.1));background-image:linear-gradient(rgba(18,184,134,.1),rgba(18,184,134,.1))}.asks>uni-view[data-v-aa794802],.bids>uni-view[data-v-aa794802]{background-position:100%;background-repeat:no-repeat;background-size:0 100%}body.?%PAGE?%[data-v-aa794802]{background:#f7f7fb}",""])},9922:function(t,e,i){var n=i("6976");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("333c9e0e",n,!0,{sourceMap:!1,shadowMode:!1})},abcc:function(t,e,i){"use strict";var n=i("9922"),a=i.n(n);a.a},adff:function(t,e,i){var n=i("9371");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("4061aafa",n,!0,{sourceMap:!1,shadowMode:!1})},bf1a:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("e814"));i("7f7f");var s=n(i("cebc"));i("c5f6");var r=i("2f62"),c=n(i("556e")),l=n(i("54b1")),u=n(i("0fdd")),o={components:{uniDrawer:c.default,uniIcon:l.default,uniPopup:u.default},data:function(){return{isFinger:"0",rate:80,current:0,type:"buy",ptype:0,cny:6.9,price:"",number:"",showLeft:!1,popType:"",priceType:"limit",enType:"in",percentList:[25,50,75,100],percent:"",balance:"",last_price:"",change:"",quotationList:[],marketList:[],enList:[],page:1,isBottom:!1,hasMore:!0,legal_name:"",currency_name:"",legal_id:"",currency_id:"",sellData:[["--","--"],["--","--"],["--","--"],["--","--"],["--","--"]],buyData:[["--","--"],["--","--"],["--","--"],["--","--"],["--","--"]],first:!0,usdt_price:1,tradePassword:""}},filters:{toFixed2:function(t){return t=Number(t),t.toFixed(2)},toFixed3:function(t){return t=Number(t),t.toFixed(3)}},computed:(0,s.default)({},(0,r.mapState)({theme:function(t){return t.theme}}),{myCNY:function(){return(this.price*this.cny).toFixed(4)||"0.00"},tradeNum:function(){return(this.price*this.number).toFixed(8)||"0.0000000"},buyMax:function(){var t=[],e=this.buyData;return e.map(function(e){t.push(e[1])}),Math.max.apply(null,t)},sellMax:function(){var t=[],e=this.sellData;return e.map(function(e){t.push(e[1])}),Math.max.apply(null,t)}}),watch:{cny:function(t){console.log(t)}},onLoad:function(t){uni.setNavigationBarTitle({title:this.$t("trade").trade}),this.changeFooter()},onShow:function(){this.$utils.setTheme(this.theme)},mounted:function(){this.initList()},onHide:function(){this.$socket.closeSocket(),this.showLeft=!1,this.popType=""},onPullDownRefresh:function(){this.initList()},onReachBottom:function(){this.hasMore&&(this.page++,this.entrustList())},methods:{fingerFuc:function(){var t=this;"Android"==plus.os.name&&(this.type="fingerAlert"),plus.fingerprint.isSupport()?(plus.fingerprint.isEnrolledFingerprints()||plus.nativeUI.toast("当前设备未录入指纹！"),plus.fingerprint.authenticate(function(e){"Android"==plus.os.name&&(t.type=""),uni.setStorageSync("isFinger",!0),t.isFinger=0,uni.showTabBar()},function(e){plus.nativeUI.toast("指纹匹配失败"),"Android"==plus.os.name&&(t.type="",plus.fingerprint.cancel())},{message:"授权登录"})):plus.nativeUI.toast("此设备不支持指纹设置！")},fingerCancel:function(){this.type="",plus.fingerprint.cancel()},changeFooter:function(){uni.setTabBarItem({index:0,text:this.$t("market.home")}),uni.setTabBarItem({index:1,text:this.$t("market.market")}),uni.setTabBarItem({index:2,text:this.$t("trade.bibi")}),uni.setTabBarItem({index:3,text:this.$t("assets.lever")}),uni.setTabBarItem({index:4,text:this.$t("assets.assets")})},sliderChange:function(t){console.log("value 发生变化："+t.detail.value)},togglePopup:function(t){this.popType=t},changePercent:function(t){if(0==this.balance)return this.$utils.showLayer(this.$t("trade.notenough"));if("market"==this.priceType){if(this.getPrice(),!this.price||""==this.price)return this.$utils.showLayer(this.$t("trade.notbest"))}else if(!this.price)return this.$utils.showLayer(this.$t("trade.p_price"));var e;this.percent=t,e="buy"==this.type?Number(this.balance/this.price*this.percent/100):Number(this.balance*this.percent/100),this.number=((0,a.default)(1e4*e)/1e4-0).toFixed(4)},changeType:function(t){this.type=t,this.number="",this.percent="",uni.setStorageSync("tradeType",t),this.getPrice(),this.currencyDetail()},changePriceType:function(t){this.priceType=t,this.togglePopup(""),this.getPrice()},changeEntrustType:function(t){this.enType=t,this.togglePopup(""),this.clear(),this.enList=[],this.entrustList()},changeNum:function(t){"limit"==this.priceType&&(this.price=t)},plus:function(){var t=10*Number(this.price)*10;t+=1,this.price=(t/100).toFixed(4)},sub:function(){var t=10*Number(this.price)*10;if(t<=0)return this.price=0;t-=1,this.price=(t/100).toFixed(4)},inputNum:function(t){this.percent="";var e=Number(t.detail.value),i=Number(e*this.price);if(i>this.balance-0)return this.$utils.showLayer("余额不足")},getPrice:function(){this.price="buy"==this.type?this.sellData.length>0?this.sellData[this.sellData.length-1][0]:"":this.buyData.length>0?this.buyData[0][0]:""},changeLegal:function(t){this.current=t},changeCurrency:function(t){var e=this.marketList[this.current][t];this.cny=Number(this.marketList[this.current][0].fiat_convert_cny),this.legal_name=e.legal_name,this.legal_id=e.legal_id,this.currency_id=e.currency_id,this.currency_name=e.currency_name;var i={legal_name:this.legal_name,legal_id:this.legal_id,currency_name:this.currency_name,currency_id:this.currency_id};uni.setStorageSync("tradeData",i),this.$socket.closeSocket(),this.percent="",this.price="",this.number="",this.first=!0,this.tradeDetail(),this.socketData(),this.showLeft=!1,this.currencyDetail(),this.clear(),this.entrustList()},initList:function(){var t=this,e=this;e.$utils.initData({url:"currency/quotation_new"},function(i){if(i.length>0){var n=i.filter(function(t,e){return 1==t.is_display});e.quotationList=n;for(var a=[],s=0;s<n.length;s++)a[s]=n[s].quotation;var r=a[0][0];e.marketList=a;var c=uni.getStorageSync("tradeData"),l=uni.getStorageSync("tradeType");l&&(e.type=l),c?(e.legal_name=c.legal_name,e.legal_id=c.legal_id,e.currency_id=c.currency_id,e.currency_name=c.currency_name,n.map(function(t,i){if(t.id==c.legal_id)return e.current=i}),e.cny=Number(n[e.current].fiat_convert_cny)):(e.legal_name=r.legal_name,e.legal_id=r.legal_id,e.currency_id=r.currency_id,e.currency_name=r.currency_name,e.cny=Number(n[0].fiat_convert_cny)),uni.getStorageSync("token")&&(e.sellData=[["--","--"],["--","--"],["--","--"],["--","--"],["--","--"]],e.buyData=[["--","--"],["--","--"],["--","--"],["--","--"],["--","--"]],t.percent="",t.price="",t.number="",e.first=!0,e.clear(),e.currencyDetail(),e.tradeDetail(),e.socketData(),e.entrustList())}})},submit:function(){var t,e=this;if(!e.number)return e.$utils.showLayer(this.$t("trade.p_num"));if("market"==e.priceType){if(this.getPrice(),!this.price||""==this.price)return e.$utils.showLayer(this.$t("trade.notbest"))}else if(!e.price)return e.$utils.showLayer(this.$t("trade.p_price"));t="sell"==e.type?"transaction/out":"transaction/in",e.$utils.initDataToken({url:t,data:{price:e.price,num:e.number,legal_id:e.legal_id,currency_id:e.currency_id,password:e.tradePassword},type:"post"},function(t){e.$utils.showLayer(t),e.number="",e.currencyDetail(),e.clear(),e.entrustList()})},currencyDetail:function(){var t,e=this;t="buy"==this.type?this.legal_id:this.currency_id,e.$utils.noshowToken({url:"wallet/detail",data:{currency:t,type:"change"},type:"post",load:!1},function(t){e.balance=t.change_balance})},tradeDetail:function(){var t=this;t.$utils.initDataToken({url:"transaction/deal",data:{currency_id:t.currency_id,legal_id:t.legal_id},type:"post"},function(e){t.last_price=e.last_price,t.change=e.currency_match.change;var i=[],n=[],a=[],s=[];for(var r in e.in)i=[],i[0]=e.in[r].price,i[1]=e.in[r].number,n.push(i);for(var r in e.out)a=[],a[0]=e.out[r].price,a[1]=e.out[r].number,s.push(a);t.buyData=n,t.sellData=s})},socketData:function(){var t=this,e=uni.getStorageSync("token"),i=this.currency_name+"/"+this.legal_name;t.$socket.listenFun([{event:"login",params:e},{event:"sub",params:"market_depth."+i},{event:"sub",params:"daymarket"}],function(e){var i=JSON.parse(e);setInterval(function(){uni.sendSocketMessage({data:"AAA"})},1e4),"market_depth"==i.type&&(t.buyData=i.bids,t.sellData=i.asks,t.first&&(t.getPrice(),t.first=!1)),"daymarket"==i.type&&(t.currency_id==i.currency_id&&t.legal_id==i.legal_id&&(t.last_price=i.now_price,t.change=i.change),t.marketList[t.current].map(function(e,n){if(e.currency_id==i.currency_id&&e.legal_id==i.legal_id)return t.marketList[t.current][n].now_price=i.now_price}))})},clear:function(){var t=this;t.page=1,t.isBottom=!1,t.hasMore=!0},entrustList:function(){var t,e=this;t="out"==e.enType?"transaction_out":"transaction_in",e.$utils.initDataToken({url:t,data:{currency_id:e.currency_id,legal_id:e.legal_id,page:e.page},type:"post"},function(t){var i=t.list;uni.stopPullDownRefresh(),e.isBottom=!1,e.enList=1==e.page?i:e.enList.concat(i),e.hasMore=t.limit==i.length})},revoke:function(t,e){var i=this;i.$utils.initDataToken({url:"transaction_del",data:{type:i.enType,id:e},type:"post"},function(e){i.$utils.showLayer(e),i.enList.splice(t,1)})}}};e.default=o},cc79:function(t,e,i){"use strict";i.r(e);var n=i("bf1a"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},d62a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},d71b:function(t,e,i){"use strict";i.r(e);var n=i("9338"),a=i("cc79");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("eb38");var r=i("2877"),c=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,"aa794802",null);e["default"]=c.exports},eb38:function(t,e,i){"use strict";var n=i("adff"),a=i.n(n);a.a}}]);