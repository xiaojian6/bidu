(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assets-bindMentionAddress"],{"3f33":function(e,t,i){"use strict";i.r(t);var n=i("c94f"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=s.a},c94f:function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("f499")),a=n(i("cebc")),d=i("2f62"),r={data:function(){return{index:0,coinList:[],uerid:"",hasSend:!1,timeInterval:"",address:"",code:"",second:60}},computed:(0,a.default)({},(0,d.mapState)({theme:function(e){return e.theme}})),onLoad:function(){this.getCoinList(),uni.setNavigationBarTitle({title:this.$t("bind").bindAddr}),this.$utils.setTheme(this.theme)},methods:{pickChange:function(e){console.log(e),this.index=e.target.value,this.address="",this.getAddress()},getCoinList:function(){var e=this;this.$utils.initDataToken({url:"wallet/list",type:"POST"},function(t){e.coinList=t.change_wallet.balance,e.getUserInfo()})},getUserInfo:function(){var e=this;this.$utils.initDataToken({url:"user/info"},function(t){e.uerid=t.id,e.getAddress()})},getAddress:function(){var e=this;this.$utils.getAddressOnline({url:"walletMiddle/GetDrawAddress",data:{user_id:this.uerid,coin_name:this.coinList[this.index].currency_name,contract_address:this.coinList[this.index].contract_address}},function(t){console.log(t),0==t.code&&(e.address=t.data.address)})},getCode:function(){var e=this;this.timeInterval||this.$utils.getAddressOnline({url:"walletMiddle/SendVerificationcode",data:{user_id:this.uerid}},function(t){console.log(t),0==t.code?(e.$utils.showLayer(e.$t("bind.sendSuccess")),e.hasSend=!0,e.timeInterval=setInterval(function(){e.second>=1?e.second--:(e.hasSend=!1,clearInterval(e.timeInterval))},1e3)):e.$utils.showLayer(t.errorinfo)})},bindAddress:function(){var e=this;if(!this.address)return this.$utils.showLayer(this.$t("bind.p_addr"));if(!this.code)return this.$utils.showLayer(this.$t("login.p_vcode"));var t={user_id:this.uerid,address:this.address,coin_name:this.coinList[this.index].currency_name,contract_address:this.coinList[this.index].contract_address,verificationcode:this.code,t:Date.parse(new Date)/1e3},i=(0,s.default)(t);console.log(i),console.log(this.$MD5(i));var n=this.$MD5(i+"abcd4321");console.log(n),this.$utils.getAddressOnline({url:"walletMiddle/BindDrawAddress",data:{data:i,sign:n},type:"POST"},function(t){console.log(t),0==t.code?e.$utils.showLayer(e.$t("bind.bindOk")):e.$utils.showLayer(t.errorinfo)})}}};t.default=r},cf46:function(e,t,i){"use strict";i.r(t);var n=i("f043"),s=i("3f33");for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);var d=i("2877"),r=Object(d["a"])(s["default"],n["a"],n["b"],!1,null,"5e7d7ebe",null);t["default"]=r.exports},f043:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{class:["vh100",{dark:"dark"==e.theme}],attrs:{view:""}},[i("v-uni-view",{staticClass:"pt20 plr20"},[i("v-uni-view",{staticClass:"flex alcenter mb20"},[i("v-uni-picker",{staticClass:"bd_input ptb10 plr10 tc flex1 radius4",attrs:{value:e.index,range:e.coinList,"range-key":"currency_name"},on:{change:function(t){t=e.$handleEvent(t),e.pickChange(t)}}},[i("v-uni-view",{staticClass:"flex between"},[i("v-uni-text",[e._v(e._s(e.$t("bind.cur_select")))]),e.coinList[e.index]?i("v-uni-text",[e._v(e._s(e.coinList[e.index].currency_name))]):e._e()],1)],1)],1),i("v-uni-view",{staticClass:"flex alcenter mb20"},[i("v-uni-text",[e._v(e._s(e.$t("bind.addr"))+"：")]),i("v-uni-input",{staticClass:"flex1 plr15 h40 bdb1f",attrs:{type:"text",value:"",placeholder:e.$t("bind.p_addr")},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),i("v-uni-view",{staticClass:"flex alcenter"},[i("v-uni-text",[e._v(e._s(e.$t("login.code"))+" ：")]),i("v-uni-view",{staticClass:"bdb1f flex alcenter flex1"},[i("v-uni-input",{staticClass:"flex1 plr15 h40 ",attrs:{type:"text",value:"",placeholder:e.$t("login.p_vcode")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("v-uni-view",{staticClass:"ml10 plr10 white bgBlue ptb5 radius4",on:{click:function(t){t=e.$handleEvent(t),e.getCode(t)}}},[e.hasSend?i("v-uni-text",[e._v(e._s(e.second)+"s")]):i("v-uni-text",[e._v(e._s(e.$t("login.r_send")))])],1)],1)],1),i("v-uni-view",{staticClass:"mt40 bgBlue radius4 ptb10 white ft14 tc mb10",on:{click:function(t){t=e.$handleEvent(t),e.bindAddress(t)}}},[e._v(e._s(e.$t("bind.bind")))])],1)],1)},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})}}]);